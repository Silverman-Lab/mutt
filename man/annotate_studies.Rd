% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/helpers.R
\name{annotate_studies}
\alias{annotate_studies}
\title{Annotate Studies Information}
\usage{
annotate_studies(
  repo,
  script_path,
  email = NA_character_,
  api_key = NA_character_,
  overwrite = TRUE,
  csv_copy_to = "publication_data.csv"
)
}
\arguments{
\item{repo}{A list containing study information, where each study should have a
studydemographics field with a PMID}

\item{script_path}{Path to the Python script that fetches PubMed data}

\item{email}{Email address for NCBI API (optional)}

\item{api_key}{NCBI API key (optional)}

\item{overwrite}{Logical indicating whether to overwrite existing studyinfo (default: TRUE)}

\item{csv_copy_to}{Path to the copied csv file that is generated by the external script}
}
\value{
The input repository with added publication information
}
\description{
This function takes a repository of studies and annotates them using a callable modular script
One such use case is to obtain publication information retrieved from PubMed using PMIDs.
In this case it uses a Python script to fetch the data and adds the results to each study's metadata.
}
\examples{
# Create a sample repository with a study containing a PMID
repo <- list(
  study1 = list(
    studydemographics = list(PMID = "12345678")
  )
)

# Annotate the repository with publication information
script_path <- "data_repository/obtainpublicationinfo_pmid.py"
annotated_repo <- annotate_studies(
  repo = repo,
  script_path = script_path,
  email = "your.email@example.com"
)

# View the added publication information
print(annotated_repo$study1$studyinfo)

}
